import{j as o}from"./index-CVfE49ll.js";import{u as c,D as d,a as p,B as f}from"./index-DOh0zPzq.js";import{F as x,b as j,c as y,e as h,f as b,u as g,t as F}from"./form-BKpDzj8W.js";import{b as C}from"./schema-Dy7N3xTd.js";import{B as _}from"./button-CSuLezZL.js";import{u as D,V as S}from"./index-ZiYbebhz.js";import{d as E}from"./index-oZfdXCXz.js";import{I}from"./input-DzGSjn4M.js";import{C as A}from"./circle-plus-NuuZ6w6j.js";function B({form:s,isPending:t}){return o.jsx(x,{...s,children:o.jsx(j,{disabled:t,name:"domain_name",control:s.control,render:({field:a})=>o.jsxs(y,{children:[o.jsx(h,{children:o.jsx(I,{...a,onKeyUp:e=>e.stopPropagation()})}),o.jsx(b,{})]})})})}const K=C.pick({domain_name:!0});function U({openDialog:s,setOpenDialog:t}){const a=D(),{userId:e}=E.useAuth(),{mutate:m,isPending:n}=c({mutationKey:["post_domain"],mutationFn:async i=>await p.post(`${f}/${e}/domain`,i),onSuccess:()=>{a.invalidateQueries({queryKey:["get_domains"]}),a.invalidateQueries({queryKey:["get_all_domains"]}),t(!1),S.success("Domain added",{position:"bottom-right"})}}),r=g({resolver:F(K)});function u(i){i.stopPropagation();const l=r.getValues();m(l)}return o.jsx(d,{title:"Create domain",open:s,titleIcon:A,onClose:()=>t(!1),children:o.jsxs("form",{className:"space-y-10",children:[o.jsx(B,{form:r,isPending:n}),o.jsx(_,{disabled:n,type:"button",onClick:u,children:"Submit"})]})})}export{U as A,B as D};
